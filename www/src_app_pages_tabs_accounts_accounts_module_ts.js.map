{"version":3,"file":"src_app_pages_tabs_accounts_accounts_module_ts.js","mappings":"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","sources":["./src/app/pages/tabs/accounts/accounts-routing.module.ts","./src/app/pages/tabs/accounts/accounts.module.ts","./src/app/pages/tabs/accounts/accounts.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AccountsPage } from './accounts.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AccountsPage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AccountsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AccountsPageRoutingModule } from './accounts-routing.module';\n\nimport { AccountsPage } from './accounts.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    AccountsPageRoutingModule,\n  ],\n  declarations: [AccountsPage],\n})\nexport class AccountsPageModule {}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { AlertController, IonModal } from '@ionic/angular';\n\nimport { OverlayEventDetail } from '@ionic/core/components';\nimport { StorageService } from 'src/app/services/storage.service';\n@Component({\n  selector: 'app-accounts',\n  templateUrl: './accounts.page.html',\n  styleUrls: ['./accounts.page.scss'],\n})\nexport class AccountsPage implements OnInit {\n  accounts: any[] = [];\n  @ViewChild(IonModal) modal: IonModal;\n  accountForm = new FormGroup({\n    id: new FormControl(null),\n    name: new FormControl('', Validators.required),\n    totalBalance: new FormControl(0),\n    balance: new FormControl(0),\n  });\n  editingAcc: any;\n  constructor(\n    private storageService: StorageService,\n    private alertController: AlertController\n  ) {}\n\n  ngOnInit() {\n    this.loadAccountData();\n  }\n  async loadAccountData() {\n    this.accounts = await this.storageService.get('accounts');\n  }\n  cancel() {\n    this.accountForm.reset();\n    this.editingAcc = {};\n    this.modal.dismiss(null, 'cancel');\n  }\n\n  confirm() {\n    if (this.accountForm.invalid) {\n      return;\n    }\n    this.editingAcc = {};\n    this.modal.dismiss(this.accountForm.value, 'confirm');\n  }\n  async onDelete() {\n    const alert = await this.alertController.create({\n      header: 'Delete',\n      // subHeader: 'Important message',\n      message: 'Are you sure?',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n        },\n        {\n          text: 'OK',\n          role: 'confirm',\n          handler: () => {\n            const index = this.accounts.findIndex(\n              (element) => element['id'] === this.editingAcc['id']\n            );\n\n            this.storageService.remove('accounts', index);\n            this.accounts.splice(index, 1);\n            this.cancel();\n          },\n        },\n      ],\n    });\n\n    await alert.present();\n  }\n\n  onEdit(acc) {\n    this.editingAcc = acc;\n    this.accountForm.setValue({\n      id: acc.id,\n      name: acc.name,\n      totalBalance: acc.totalBalance,\n      balance: acc.balance,\n    });\n    this.modal.present();\n  }\n\n  onWillDismiss(event: Event) {\n    const ev = event as CustomEvent<OverlayEventDetail<string>>;\n    if (ev.detail.role === 'confirm') {\n      this.accountForm.reset();\n      const data = <any>ev.detail.data;\n      if (data['id'] > 0) {\n        const index = this.accounts.findIndex(\n          (element) => element['id'] === data['id']\n        );\n        this.accounts[index] = data;\n        this.storageService.editData('accounts', index, data);\n      } else {\n        data['id'] = this.accounts?.length > 0 ? this.accounts?.length + 1 : 1;\n        data['balance'] = data['totalBalance'];\n        this.storageService.addData('accounts', data);\n        this.accounts?.push(data);\n      }\n    }\n    this.editingAcc = {};\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}